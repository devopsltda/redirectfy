<app-grid>
  <header class="flex md:flex-col md:justify-start md:items-center md:bg-[#257F7A]  w-full md:w-2/3 h-fit md:h-full justify-center md:m-0 mt-12">
    <p-toast></p-toast>
    <app-redirectify-logo-name class="md:hidden" ></app-redirectify-logo-name>
    <div class="md:flex mt-72 hidden flex-col gap-2 items-start  justify-center">
      <svg class="w-48  h-42" viewBox="0 0 203 196" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.6233 0H0V19.6233V175.933V195.557L203 195.557V175.933H19.6233V19.6233H183.377L183.377 121.8H138.591L101.119 86.6134H133.98V66.9901H85.2599H65.6366V86.6134V136.01H85.2599V98.6407L129.92 140.576V141.423H130.822L131.022 141.611L131.198 141.423H183.377L203 141.423L203 19.6233L203 0H183.377H19.6233Z" fill="white"/>
      </svg>
      <h1 class="text-white text-4xl font-semibold tracking-wider pb">Redirectfy</h1>
    </div>
    <span class="hidden  md:flex w-full items-center justify-center">
      <p class=" hidden w-48 text-white text-lg leading-normal md:flex  mt-5">O seu manager de <br> links numero um.</p>
    </span>
  </header>
  <div class="w-full h-full flex flex-col items-center pt-10 md:pt-40">
    <h1 class="font-bold text-2xl  md:text-3xl pt-5">Redefinição de senha</h1>
    <span class="flex pt-5 md:pt-10 text-sm md:text-lg"><p>Insira uma nova senha para podermos <br class="hidden max-md:block"> redefini-la.</p></span>
    <form action="" [formGroup]="resetPassForm" class="flex flex-col mt-14 w-full md:w-96 items-center" (ngSubmit)="onSubmit()" >
      <div class="gap-10 flex flex-col w-fit md:w-96">
        <div>
          <span class="p-float-label">
            <input id="senha" type="password" formControlName="senha" pInputText class=" {{this.resetPassForm.controls['senha'].invalid && (this.resetPassForm.controls['senha'].touched || this.resetPassForm.controls['senha'].dirty)?'ng-dirty border-red-400':''}} border w-60 h-10 md:h-12 md:w-full focus:border-teal-500 hover:border-teal-500 pl-2"/>
            <label for="senha">Senha</label>
          </span>
          @if ((this.resetPassForm.controls['senha'].invalid || formSubmited) && (this.resetPassForm.controls['senha'].touched || this.resetPassForm.controls['senha'].dirty)) {
            <span class="flex flex-col w-52 gap-1">
            <p class="flex  w-fit text-xs text-red-400 pl-2 pt-1 m-0" *ngIf="this.resetPassForm.controls['senha'].errors?.['required']" >O campo é obrigatorio</p>
            </span>
          }
        </div>
        <div>
          <span class="p-float-label">
            <input id="senha_confirmacao" type="password" formControlName="senha_confirmacao" pInputText class="{{this.resetPassForm.controls['senha_confirmacao'].invalid && (this.resetPassForm.controls['senha_confirmacao'].touched || this.resetPassForm.controls['senha_confirmacao'].dirty)?'ng-dirty border-red-400':''}} border w-60 h-10 md:w-full md:h-12 focus:border-teal-500 hover:border-teal-500 pl-2"/>
            <label for="senha_confirmacao">Confirme a senha</label>
          </span>
          @if ((this.resetPassForm.controls['senha_confirmacao'].invalid || formSubmited ) && (this.resetPassForm.controls['senha_confirmacao'].touched || this.resetPassForm.controls['senha_confirmacao'].dirty)) {
            <span class="flex flex-col w-52 gap-1">
            <p class="flex  w-fit text-xs  text-red-400 pl-2 pt-1 m-0" *ngIf="this.resetPassForm.controls['senha_confirmacao'].errors?.['required']" >O campo é obrigatorio</p>
            <p class="flex  w-fit text-xs  text-red-400 pl-2 pt-1 m-0" *ngIf="!passwordsMatch() && !this.resetPassForm.controls['senha_confirmacao'].errors?.['required']" >As senhas não coincidem </p>
            </span>
          }
        </div>
      </div>
      <div class=" w-full h-fit text-sm   max-md:items-center flex flex-col">
        <span class="flex w-72 pl-7 md:w-full md:pl-2  mb-1">
          <h4 class=" text-[#838383]  mt-4">A senha deve conter</h4>
        </span>
        <ul class="list-disc md:pl-10  text-[#838383]">
          <li class="{{ this.resetPassForm.controls['senha'].dirty && !this.resetPassForm.controls['senha'].errors?.['minlength'] ? 'text-green-400' : '' }}" >Um mínimo de 8 caracteres</li>
          <li class="{{(!this.resetPassForm.controls['senha'].errors?.['hasLetter']) && this.resetPassForm.controls['senha'].dirty?'text-green-400':''}}" >Ter pelo menos uma letra</li>
          <li class="{{(!this.resetPassForm.controls['senha'].errors?.['hasNumber']) && this.resetPassForm.controls['senha'].dirty?'text-green-400':''}}">Ter pelo menos um número</li>
        </ul>
      </div>
      <div class="flex flex-col gap-3 mt-10 w-full items-center">
        <app-button-primary class="w-64 md:w-96" title="Redefinir Senha" type="submit" ></app-button-primary>
      </div>
    </form>
  </div>
</app-grid>
